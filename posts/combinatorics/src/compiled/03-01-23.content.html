<p>so, I’m taking this combinatorics class. And combinatorics is kind of my <strong>thing</strong>. But the class definitely puts a lot of learning responsibility on the student. Well, I could just complain and say “I wish we had more psets”. But maybe a more productive thing to do would be to be self-disciplined in working through exercises left in lecture and learning stuff. For this purpose I’m going to write some blog posts corresponding to solutions to the exercises left in lecture.</p>
<p>Anyways, enough talk. Let’s count!</p>
<div class="thm envbox">
<p><strong>Theorem.</strong> <span class="math display">\[\sum_{w\in S_n}x^{inv(w)} = \prod_{n\geq 1} \sum_{i=0}^n x^i\]</span></p>
</div>
<p>where <strong>inv</strong> counts the number of inversions in the permutation</p>
<p><strong>todo</strong>: show that this is equidistributed with the <strong>majority index</strong></p>
<div class="pf envbox">
<p><strong>Proof.</strong> define the “inversion profile” to be, for each <span class="math inline">\(i&gt;1,\)</span> we record for how many <span class="math inline">\(j&lt;i\)</span> <span class="math inline">\(i,j\)</span> is an inversion, i.e. <span class="math inline">\(\pi_j&gt;\pi_i\)</span>.</p>
<p>This is an invertable procedure: given an inversion profile I can reconstruct the permutation by recursing up from a size <span class="math inline">\(1\)</span> thing and inserting the next point at the right place each time.</p>
<p>But an inversion profile clearly amounts to choosing powers of <span class="math inline">\(x\)</span> from the polynomials in the product. So we have the desired bijection.</p>
</div>
